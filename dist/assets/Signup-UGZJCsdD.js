import{r as y,R as S,j as u,u as Y,f as ee}from"./index-Bm7eXvp5.js";import{i as te}from"./index-0Q7cGwnK.js";import{S as ae}from"./SEO-DR8Q92ZO.js";import{I as re,a as ne}from"./index-MsUu7Qdg.js";import{I as O}from"./Input-BDyt2fuC.js";var G=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54",{default:"(..) .... ....","/^11/":"(..) .... ....","/^15/":"(..) ... ....","/^(2|3|4|5)/":"(.) .... ....","/^9/":"(.) .... ....."},0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) .....-...."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["Côte d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253",".. .. ...."],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251",".. ... ...."],["Faroe Islands","fo","298",".. .. .."],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594","... .. .. .."],["French Polynesia","pf","689",{"/^44/":".. .. ..","/^80[0-5]/":"... .. .. ..",default:".. .. .. .."}],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","... .. .. ..",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596","... .. .. .."],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mayotte","yt","262","... .. .. ..",1,["269","639"]],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63","... ... ...."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974"],["Réunion","re","262","... .. .. ..",0],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Pierre & Miquelon","pm","508",{"/^708/":"... ... ...","/^8/":"... .. .. ..",default:".. .. .."}],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Wallis & Futuna","wf","681",".. .. .."],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],ie="react-international-phone-",J=(...t)=>t.filter(e=>!!e).join(" ").trim(),le=(...t)=>J(...t).split(" ").map(e=>`${ie}${e}`).join(" "),A=({addPrefix:t,rawClassNames:e})=>J(le(...t),...e),oe=({value:t,mask:e,maskSymbol:r,offset:o=0,trimNonMaskCharsLeftover:a=!1})=>{if(t.length<o)return t;let n=t.slice(0,o),f=t.slice(o),l=n,i=0;for(let s of e.split("")){if(i>=f.length){if(!a&&s!==r){l+=s;continue}break}s===r?(l+=f[i],i+=1):l+=s}return l},V=t=>t?/^\d+$/.test(t):!1,U=t=>t.replace(/\D/g,""),se=(t,e)=>{let r=t.style.display;r!=="block"&&(t.style.display="block");let o=t.getBoundingClientRect(),a=e.getBoundingClientRect(),n=a.top-o.top,f=o.bottom-a.bottom;n>=0&&f>=0||(Math.abs(n)<Math.abs(f)?t.scrollTop+=n:t.scrollTop-=f),t.style.display=r},ue=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("macintosh"),de=(t,e)=>{let r=e.disableDialCodeAndPrefix?!1:e.forceDialCode,o=e.disableDialCodeAndPrefix?!1:e.insertDialCodeOnEmpty,a=t,n=s=>e.trimNonDigitsEnd?s.trim():s;if(!a)return o&&!a.length||r?n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`):n(a);if(a=U(a),a===e.dialCode&&!e.disableDialCodeAndPrefix)return n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(e.dialCode.startsWith(a)&&!e.disableDialCodeAndPrefix)return n(r?`${e.prefix}${e.dialCode}${e.charAfterDialCode}`:`${e.prefix}${a}`);if(!a.startsWith(e.dialCode)&&!e.disableDialCodeAndPrefix){if(r)return n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(a.length<e.dialCode.length)return n(`${e.prefix}${a}`)}let f=()=>{let s=e.dialCode.length,d=a.slice(0,s),p=a.slice(s);return{phoneLeftSide:d,phoneRightSide:p}},{phoneLeftSide:l,phoneRightSide:i}=f();return l=`${e.prefix}${l}${e.charAfterDialCode}`,i=oe({value:i,mask:e.mask,maskSymbol:e.maskChar,trimNonMaskCharsLeftover:e.trimNonDigitsEnd||e.disableDialCodeAndPrefix&&i.length===0}),e.disableDialCodeAndPrefix&&(l=""),n(`${l}${i}`)},ce=({phoneBeforeInput:t,phoneAfterInput:e,phoneAfterFormatted:r,cursorPositionAfterInput:o,leftOffset:a=0,deletion:n})=>{if(o<a)return a;if(!t)return r.length;let f=null;for(let d=o-1;d>=0;d-=1)if(V(e[d])){f=d;break}if(f===null){for(let d=0;d<e.length;d+=1)if(V(r[d]))return d;return e.length}let l=0;for(let d=0;d<f;d+=1)V(e[d])&&(l+=1);let i=0,s=0;for(let d=0;d<r.length&&(i+=1,V(r[d])&&(s+=1),!(s>=l+1));d+=1);if(n!=="backward")for(;!V(r[i])&&i<r.length;)i+=1;return i},q=({phone:t,prefix:e})=>t?`${e}${U(t)}`:"";function W({value:t,country:e,insertDialCodeOnEmpty:r,trimNonDigitsEnd:o,countries:a,prefix:n,charAfterDialCode:f,forceDialCode:l,disableDialCodeAndPrefix:i,defaultMask:s,countryGuessingEnabled:d,disableFormatting:p}){let m=t;i&&(m=m.startsWith(`${n}`)?m:`${n}${e.dialCode}${m}`);let g=d?ve({phone:m,countries:a,currentCountryIso2:e?.iso2}):void 0,v=g?.country??e,h=de(m,{prefix:n,mask:Ce({phone:m,country:v,defaultMask:s,disableFormatting:p}),maskChar:Z,dialCode:v.dialCode,trimNonDigitsEnd:o,charAfterDialCode:f,forceDialCode:l,insertDialCodeOnEmpty:r,disableDialCodeAndPrefix:i}),C=d&&!g?.fullDialCodeMatch?e:v;return{phone:q({phone:i?`${C.dialCode}${h}`:h,prefix:n}),inputValue:h,country:C}}var fe=t=>{if(t?.toLocaleLowerCase().includes("delete")??!1)return t?.toLocaleLowerCase().includes("forward")?"forward":"backward"},me=(t,{country:e,insertDialCodeOnEmpty:r,phoneBeforeInput:o,prefix:a,charAfterDialCode:n,forceDialCode:f,disableDialCodeAndPrefix:l,countryGuessingEnabled:i,defaultMask:s,disableFormatting:d,countries:p})=>{let m=t.nativeEvent,g=m.inputType,v=fe(g),h=!!g?.startsWith("insertFrom"),C=g==="insertText",D=m?.data||void 0,k=t.target.value,$=t.target.selectionStart??0;if(g?.includes("history"))return{inputValue:o,phone:q({phone:o,prefix:a}),cursorPosition:o.length,country:e};if(C&&!V(D)&&k!==a)return{inputValue:o,phone:q({phone:l?`${e.dialCode}${o}`:o,prefix:a}),cursorPosition:$-(D?.length??0),country:e};if(f&&!k.startsWith(`${a}${e.dialCode}`)&&!h){let b=k?o:`${a}${e.dialCode}${n}`;return{inputValue:b,phone:q({phone:b,prefix:a}),cursorPosition:a.length+e.dialCode.length+n.length,country:e}}let{phone:R,inputValue:I,country:c}=W({value:k,country:e,trimNonDigitsEnd:v==="backward",insertDialCodeOnEmpty:r,countryGuessingEnabled:i,countries:p,prefix:a,charAfterDialCode:n,forceDialCode:f,disableDialCodeAndPrefix:l,disableFormatting:d,defaultMask:s}),x=ce({cursorPositionAfterInput:$,phoneBeforeInput:o,phoneAfterInput:k,phoneAfterFormatted:I,leftOffset:f?a.length+e.dialCode.length+n.length:0,deletion:v});return{phone:R,inputValue:I,cursorPosition:x,country:c}},pe=(t,e)=>{let r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(let a of r)if(t[a]!==e[a])return!1;return!0},he=()=>{let t=y.useRef(),e=y.useRef(Date.now());return{check:()=>{let r=Date.now(),o=t.current?r-e.current:void 0;return t.current=e.current,e.current=r,o}}},ye={size:20,overrideLastItemDebounceMS:-1};function ge(t,e){let{size:r,overrideLastItemDebounceMS:o,onChange:a}={...ye,...e},[n,f]=y.useState(t),[l,i]=y.useState([n]),[s,d]=y.useState(0),p=he();return[n,(m,g)=>{if(typeof m=="object"&&typeof n=="object"&&pe(m,n)||m===n)return;let v=o>0,h=p.check(),C=v&&h!==void 0?h>o:!0;if(g?.overrideLastItem!==void 0?g.overrideLastItem:!C)i(D=>[...D.slice(0,s),m]);else{let D=l.length>=r;i(k=>[...k.slice(D?1:0,s+1),m]),D||d(k=>k+1)}f(m),a?.(m)},()=>{if(s<=0)return{success:!1};let m=l[s-1];return f(m),d(g=>g-1),a?.(m),{success:!0,value:m}},()=>{if(s+1>=l.length)return{success:!1};let m=l[s+1];return f(m),d(g=>g+1),a?.(m),{success:!0,value:m}}]}var Z=".",M={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:G},be=({defaultCountry:t=M.defaultCountry,value:e=M.value,countries:r=M.countries,prefix:o=M.prefix,defaultMask:a=M.defaultMask,charAfterDialCode:n=M.charAfterDialCode,historySaveDebounceMS:f=M.historySaveDebounceMS,disableCountryGuess:l=M.disableCountryGuess,disableDialCodePrefill:i=M.disableDialCodePrefill,forceDialCode:s=M.forceDialCode,disableDialCodeAndPrefix:d=M.disableDialCodeAndPrefix,disableFormatting:p=M.disableFormatting,onChange:m,inputRef:g})=>{let v={countries:r,prefix:o,charAfterDialCode:n,forceDialCode:d?!1:s,disableDialCodeAndPrefix:d,defaultMask:a,countryGuessingEnabled:!l,disableFormatting:p},h=y.useRef(null),C=g||h,D=w=>{Promise.resolve().then(()=>{typeof window>"u"||C.current!==document?.activeElement||C.current?.setSelectionRange(w,w)})},[{phone:k,inputValue:$,country:R},I,c,x]=ge(()=>{let w=_({value:t,field:"iso2",countries:r});w||console.error(`[react-international-phone]: can not find a country with "${t}" iso2 code`);let E=w||_({value:"us",field:"iso2",countries:r}),{phone:j,inputValue:L,country:K}=W({value:e,country:E,insertDialCodeOnEmpty:!i,...v});return D(L.length),{phone:j,inputValue:L,country:K.iso2}},{overrideLastItemDebounceMS:f,onChange:({inputValue:w,phone:E,country:j})=>{if(!m)return;let L=b(j);m({phone:E,inputValue:w,country:L})}}),b=y.useCallback(w=>_({value:w,field:"iso2",countries:r}),[r]),N=y.useMemo(()=>b(R),[R,b]);y.useEffect(()=>{let w=C.current;if(!w)return;let E=j=>{if(!j.key)return;let L=j.ctrlKey,K=j.metaKey,X=j.shiftKey;if(j.key.toLowerCase()==="z"){if(ue()){if(!K)return}else if(!L)return;X?x():c()}};return w.addEventListener("keydown",E),()=>{w.removeEventListener("keydown",E)}},[C,c,x]);let P=w=>{w.preventDefault();let{phone:E,inputValue:j,country:L,cursorPosition:K}=me(w,{country:N,phoneBeforeInput:$,insertDialCodeOnEmpty:!1,...v});return I({inputValue:j,phone:E,country:L.iso2}),D(K),e},F=(w,E={focusOnInput:!1})=>{let j=_({value:w,field:"iso2",countries:r});if(!j){console.error(`[react-international-phone]: can not find a country with "${w}" iso2 code`);return}let L=d?"":`${o}${j.dialCode}${n}`;I({inputValue:L,phone:`${o}${j.dialCode}`,country:j.iso2}),E.focusOnInput&&Promise.resolve().then(()=>{C.current?.focus()})},[z,T]=y.useState(!1);return y.useEffect(()=>{if(!z){T(!0),e!==k&&m?.({inputValue:$,phone:k,country:N});return}if(e===k)return;let{phone:w,inputValue:E,country:j}=W({value:e,country:N,insertDialCodeOnEmpty:!i,...v});I({phone:w,inputValue:E,country:j.iso2})},[e]),{phone:k,inputValue:$,country:N,setCountry:F,handlePhoneValueChange:P,inputRef:C}},Ce=({phone:t,country:e,defaultMask:r="............",disableFormatting:o=!1})=>{let a=e.format,n=l=>o?l.replace(new RegExp(`[^${Z}]`,"g"),""):l;if(!a)return n(r);if(typeof a=="string")return n(a);if(!a.default)return console.error(`[react-international-phone]: default mask for ${e.iso2} is not provided`),n(r);let f=Object.keys(a).find(l=>{if(l==="default")return!1;if(!(l.charAt(0)==="/"&&l.charAt(l.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${l}" for ${e.iso2} is not valid`),!1;let i=new RegExp(l.substring(1,l.length-1)),s=t.replace(e.dialCode,"");return i.test(U(s))});return n(f?a[f]:a.default)},B=t=>{let[e,r,o,a,n,f]=t;return{name:e,iso2:r,dialCode:o,format:a,priority:n,areaCodes:f}},xe=t=>`Field "${t}" is not supported`,_=({field:t,value:e,countries:r=G})=>{if(["priority"].includes(t))throw new Error(xe(t));let o=r.find(a=>{let n=B(a);return e===n[t]});if(o)return B(o)},ve=({phone:t,countries:e=G,currentCountryIso2:r})=>{let o={country:void 0,fullDialCodeMatch:!1};if(!t)return o;let a=U(t);if(!a)return o;let n=o,f=({country:l,fullDialCodeMatch:i})=>{let s=l.dialCode===n.country?.dialCode,d=(l.priority??0)<(n.country?.priority??0);(!s||d)&&(n={country:l,fullDialCodeMatch:i})};for(let l of e){let i=B(l),{dialCode:s,areaCodes:d}=i;if(a.startsWith(s)){let p=n.country?Number(s)>=Number(n.country.dialCode):!0;if(d){let m=a.substring(s.length);for(let g of d)if(m.startsWith(g))return{country:i,fullDialCodeMatch:!0}}(p||s===a||!n.fullDialCodeMatch)&&f({country:i,fullDialCodeMatch:!0})}n.fullDialCodeMatch||a.length<s.length&&s.startsWith(a)&&(!n.country||Number(s)<=Number(n.country.dialCode))&&f({country:i,fullDialCodeMatch:!1})}if(r){let l=_({value:r,field:"iso2",countries:e});if(!l)return n;let i=l?(s=>{if(!s?.areaCodes)return!1;let d=a.substring(s.dialCode.length);return s.areaCodes.some(p=>p.startsWith(d))})(l):!1;n&&n.country?.dialCode===l.dialCode&&n.country!==l&&n.fullDialCodeMatch&&(!l.areaCodes||i)&&(n={country:l,fullDialCodeMatch:!0})}return n},we=(t,e)=>{let r=parseInt(t,16);return Number(r+e).toString(16)},Ne="abcdefghijklmnopqrstuvwxyz",De="1f1e6",H=Ne.split("").reduce((t,e,r)=>({...t,[e]:we(De,r)}),{}),Se=t=>[H[t[0]],H[t[1]]].join("-"),Q=({iso2:t,size:e,src:r,protocol:o="https",disableLazyLoading:a,className:n,style:f,...l})=>{if(!t)return S.createElement("img",{className:A({addPrefix:["flag-emoji"],rawClassNames:[n]}),width:e,height:e,...l});let i=()=>{if(r)return r;let s=Se(t);return`${o}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${s}.svg`};return S.createElement("img",{className:A({addPrefix:["flag-emoji"],rawClassNames:[n]}),src:i(),width:e,height:e,draggable:!1,"data-country":t,loading:a?void 0:"lazy",style:{width:e,height:e,...f},alt:"",...l})},ke=1e3,Ee=({show:t,dialCodePrefix:e="+",selectedCountry:r,countries:o=G,preferredCountries:a=[],flags:n,onSelect:f,onClose:l,...i})=>{let s=y.useRef(null),d=y.useRef(),p=y.useMemo(()=>{if(!a||!a.length)return o;let c=[],x=[...o];for(let b of a){let N=x.findIndex(P=>B(P).iso2===b);if(N!==-1){let P=x.splice(N,1)[0];c.push(P)}}return c.concat(x)},[o,a]),m=y.useRef({updatedAt:void 0,value:""}),g=c=>{let x=m.current.updatedAt&&new Date().getTime()-m.current.updatedAt.getTime()>ke;m.current={value:x?c:`${m.current.value}${c}`,updatedAt:new Date};let b=p.findIndex(N=>B(N).name.toLowerCase().startsWith(m.current.value));b!==-1&&C(b)},v=y.useCallback(c=>p.findIndex(x=>B(x).iso2===c),[p]),[h,C]=y.useState(v(r)),D=()=>{d.current!==r&&C(v(r))},k=y.useCallback(c=>{C(v(c.iso2)),f?.(c)},[f,v]),$=c=>{let x=p.length-1,b=N=>c==="prev"?N-1:c==="next"?N+1:c==="last"?x:0;C(N=>{let P=b(N);return P<0?0:P>x?x:P})},R=c=>{if(c.stopPropagation(),c.key==="Enter"){c.preventDefault();let x=B(p[h]);k(x);return}if(c.key==="Escape"){l?.();return}if(c.key==="ArrowUp"){c.preventDefault(),$("prev");return}if(c.key==="ArrowDown"){c.preventDefault(),$("next");return}if(c.key==="PageUp"){c.preventDefault(),$("first");return}if(c.key==="PageDown"){c.preventDefault(),$("last");return}c.key===" "&&c.preventDefault(),c.key.length===1&&!c.altKey&&!c.ctrlKey&&!c.metaKey&&g(c.key.toLocaleLowerCase())},I=y.useCallback(()=>{if(!s.current||h===void 0)return;let c=B(p[h]).iso2;if(c===d.current)return;let x=s.current.querySelector(`[data-country="${c}"]`);x&&(se(s.current,x),d.current=c)},[h,p]);return y.useEffect(()=>{I()},[h,I]),y.useEffect(()=>{s.current&&(t?s.current.focus():D())},[t]),y.useEffect(()=>{D()},[r]),S.createElement("ul",{ref:s,role:"listbox",className:A({addPrefix:["country-selector-dropdown"],rawClassNames:[i.className]}),style:{display:t?"block":"none",...i.style},onKeyDown:R,onBlur:l,tabIndex:-1,"aria-activedescendant":`react-international-phone__${B(p[h]).iso2}-option`},p.map((c,x)=>{let b=B(c),N=b.iso2===r,P=x===h,F=a.includes(b.iso2),z=x===a.length-1,T=n?.find(w=>w.iso2===b.iso2);return S.createElement(S.Fragment,{key:b.iso2},S.createElement("li",{"data-country":b.iso2,role:"option","aria-selected":N,"aria-label":`${b.name} ${e}${b.dialCode}`,id:`react-international-phone__${b.iso2}-option`,className:A({addPrefix:["country-selector-dropdown__list-item",F&&"country-selector-dropdown__list-item--preferred",N&&"country-selector-dropdown__list-item--selected",P&&"country-selector-dropdown__list-item--focused"],rawClassNames:[i.listItemClassName,F&&i.listItemPreferredClassName,N&&i.listItemSelectedClassName,P&&i.listItemFocusedClassName]}),onClick:()=>k(b),style:i.listItemStyle,title:b.name},S.createElement(Q,{iso2:b.iso2,src:T?.src,className:A({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[i.listItemFlagClassName]}),style:i.listItemFlagStyle}),S.createElement("span",{className:A({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[i.listItemCountryNameClassName]}),style:i.listItemCountryNameStyle},b.name),S.createElement("span",{className:A({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[i.listItemDialCodeClassName]}),style:i.listItemDialCodeStyle},e,b.dialCode)),z?S.createElement("hr",{className:A({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[i.preferredListDividerClassName]}),style:i.preferredListDividerStyle}):null)}))},je=({selectedCountry:t,onSelect:e,disabled:r,hideDropdown:o,countries:a=G,preferredCountries:n=[],flags:f,renderButtonWrapper:l,...i})=>{let[s,d]=y.useState(!1),p=y.useMemo(()=>{if(t)return _({value:t,field:"iso2",countries:a})},[a,t]),m=y.useRef(null),g=h=>{h.key&&["ArrowUp","ArrowDown"].includes(h.key)&&(h.preventDefault(),d(!0))},v=()=>{let h={title:p?.name,onClick:()=>d(D=>!D),onMouseDown:D=>D.preventDefault(),onKeyDown:g,disabled:o||r,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":s},C=S.createElement("div",{className:A({addPrefix:["country-selector-button__button-content"],rawClassNames:[i.buttonContentWrapperClassName]}),style:i.buttonContentWrapperStyle},S.createElement(Q,{iso2:t,src:f?.find(D=>D.iso2===t)?.src,className:A({addPrefix:["country-selector-button__flag-emoji",r&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[i.flagClassName]}),style:{visibility:t?"visible":"hidden",...i.flagStyle}}),!o&&S.createElement("div",{className:A({addPrefix:["country-selector-button__dropdown-arrow",r&&"country-selector-button__dropdown-arrow--disabled",s&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[i.dropdownArrowClassName]}),style:i.dropdownArrowStyle}));return l?l({children:C,rootProps:h}):S.createElement("button",{...h,type:"button",className:A({addPrefix:["country-selector-button",s&&"country-selector-button--active",r&&"country-selector-button--disabled",o&&"country-selector-button--hide-dropdown"],rawClassNames:[i.buttonClassName]}),"data-country":t,style:i.buttonStyle},C)};return S.createElement("div",{className:A({addPrefix:["country-selector"],rawClassNames:[i.className]}),style:i.style,ref:m},v(),S.createElement(Ee,{show:s,countries:a,preferredCountries:n,flags:f,onSelect:h=>{d(!1),e?.(h)},selectedCountry:t,onClose:()=>{d(!1)},...i.dropdownStyleProps}))},Pe=({dialCode:t,prefix:e,disabled:r,style:o,className:a})=>S.createElement("div",{className:A({addPrefix:["dial-code-preview",r&&"dial-code-preview--disabled"],rawClassNames:[a]}),style:o},`${e}${t}`),Ae=y.forwardRef(({value:t,onChange:e,countries:r=G,preferredCountries:o=[],hideDropdown:a,showDisabledDialCodeAndPrefix:n,disableFocusAfterCountrySelect:f,flags:l,style:i,className:s,inputStyle:d,inputClassName:p,countrySelectorStyleProps:m,dialCodePreviewStyleProps:g,inputProps:v,placeholder:h,disabled:C,name:D,onFocus:k,onBlur:$,required:R,autoFocus:I,...c},x)=>{let{phone:b,inputValue:N,inputRef:P,country:F,setCountry:z,handlePhoneValueChange:T}=be({value:t,countries:r,...c,onChange:E=>{e?.(E.phone,{country:E.country,inputValue:E.inputValue})}}),w=c.disableDialCodeAndPrefix&&n&&F?.dialCode;return y.useImperativeHandle(x,()=>P.current?Object.assign(P.current,{setCountry:z,state:{phone:b,inputValue:N,country:F}}):null,[P,z,b,N,F]),S.createElement("div",{ref:x,className:A({addPrefix:["input-container"],rawClassNames:[s]}),style:i},S.createElement(je,{onSelect:E=>z(E.iso2,{focusOnInput:!f}),flags:l,selectedCountry:F.iso2,countries:r,preferredCountries:o,disabled:C,hideDropdown:a,...m}),w&&S.createElement(Pe,{dialCode:F.dialCode,prefix:c.prefix??"+",disabled:C,...g}),S.createElement("input",{onChange:T,value:N,type:"tel",ref:P,className:A({addPrefix:["input",C&&"input--disabled"],rawClassNames:[p]}),placeholder:h,disabled:C,style:d,name:D,onFocus:k,onBlur:$,autoFocus:I,required:R,...v}))});function $e({id:t="phone",name:e="phone",title:r,value:o,onChange:a,required:n,disabled:f,defaultCountry:l="ng"}){return u.jsxs("div",{children:[r?u.jsxs("label",{htmlFor:t,className:"block mb-1 text-secondary font-semibold text-[15px]",children:[r,n&&u.jsx("span",{className:"text-red-500 ml-0.5",children:"*"})]}):null,u.jsxs("div",{className:"relative rounded-lg border border-[#E0DEF7] bg-[#F7F7FD] px-2 py-1.5 focus-within:ring-2 focus-within:ring-[#002E62]/70 focus-within:border-transparent focus-within:bg-white transition-colors",children:[u.jsx("span",{className:"pointer-events-none absolute left-14 top-1/2 -translate-y-1/2 h-6 border-l border-[#E6EAF2]"}),u.jsx(Ae,{defaultCountry:l,value:o,onChange:a,placeholder:"Enter your phone number",className:"w-full",inputClassName:"!w-full !px-3 !py-2.5 !bg-transparent !border-0 !outline-none !ring-0 !shadow-none !text-[14px] !font-medium placeholder:!text-[#52525B]",inputProps:{id:t,name:e,required:n,disabled:f},countrySelectorStyleProps:{buttonClassName:"!h-9 !px-2 !bg-white !border !border-[#E6EAF2] !rounded-md !shadow-none !outline-none",dropdownArrowClassName:"!text-gray-500"}})]})]})}function Me({label:t,helperText:e,containerClassName:r="",className:o="",...a}){return u.jsxs("label",{htmlFor:a.id,className:`group inline-flex w-full select-none items-start gap-3 text-[#3F3F46] ${r}`,children:[u.jsxs("span",{className:"relative flex h-6 w-6 flex-none items-center justify-center",children:[u.jsx("input",{...a,type:"checkbox",className:`peer absolute inset-0 h-full w-full cursor-pointer appearance-none rounded-md ${o}`}),u.jsx("span",{"aria-hidden":!0,className:"pointer-events-none block h-full w-full rounded-md border border-[#C5CBD6] bg-white transition-all duration-200 group-hover:border-[#93A2B6] peer-checked:border-[#1F9D55] peer-checked:bg-[#1F9D55] peer-focus-visible:ring-2 peer-focus-visible:ring-[#1F9D55]/20 peer-focus-visible:ring-offset-2"}),u.jsx("svg",{"aria-hidden":!0,className:"pointer-events-none absolute h-3.5 w-3.5 text-white opacity-0 transition-opacity duration-150 peer-checked:opacity-100",viewBox:"0 0 14 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1 5.5L5 9.5L13 1.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),u.jsxs("div",{className:"flex-1 text-xs leading-relaxed text-gray-600 sm:text-sm",children:[t,e&&u.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:e})]})]})}function ze(){const[t,e]=y.useState(!1),[r,o]=y.useState(""),[a,n]=y.useState(!1),[f,l]=y.useState(null),i=Y(),[s]=ee(),d=async p=>{p.preventDefault();const m=p.currentTarget,g=new FormData(m),v={email:String(g.get("email")??"").trim().toLowerCase(),firstName:String(g.get("firstName")??"").trim(),lastName:String(g.get("lastName")??"").trim(),password:String(g.get("password")??""),isTermsAccepted:!!g.get("terms"),phoneNumber:r.trim()};if(!v.phoneNumber){l("Phone number is required.");return}l(null),n(!0);try{await s(v).unwrap(),i("/auth/signup/verify",{state:{email:v.email}})}catch(h){if(te(h)){const C=h.response?.data?.message;l(C||"Unable to create your account. Please try again.")}else l("Something went wrong. Please try again later.")}finally{n(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx(ae,{}),u.jsxs("div",{className:"w-full max-w-md mx-auto px-4 sm:px-0",children:[u.jsxs("div",{className:"text-[30px] sm:text-3xl lg:text-[50px] font-semibold text-secondary leading-tight",children:["Get Started with ",u.jsx("span",{className:"text-green-500",children:"Kadamora"})]}),u.jsx("p",{className:"text-gray-600 mt-3 text-sm sm:text-base",children:"Unlock a seamless experience designed around your needs."}),u.jsxs("form",{onSubmit:d,className:"mt-6 sm:mt-8 space-y-4 sm:space-y-5",children:[f?u.jsx("div",{role:"alert",className:"rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-600",children:f}):null,u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[u.jsx(O,{id:"firstName",name:"firstName",title:"First name",placeholder:"Enter your first name",required:!0,autoComplete:"given-name"}),u.jsx(O,{id:"lastName",name:"lastName",title:"Last name",placeholder:"Enter your last name",required:!0,autoComplete:"family-name"})]}),u.jsx(O,{id:"email",name:"email",title:"Email",type:"email",placeholder:"Enter your email",required:!0,autoComplete:"email"}),u.jsx($e,{title:"Phone Number",value:r,onChange:o,required:!0}),u.jsxs("div",{className:"relative",children:[u.jsx(O,{id:"password",name:"password",title:"Password",placeholder:"Enter your password",type:t?"text":"password",required:!0,autoComplete:"new-password"}),u.jsx("button",{type:"button",onClick:()=>e(p=>!p),className:"absolute inset-y-0 right-0 top-6 px-3 flex items-center text-gray-500 hover:text-gray-700 touch-manipulation","aria-label":t?"Hide password":"Show password",children:u.jsx("span",{className:"text-lg","aria-hidden":!0,children:t?u.jsx(re,{}):u.jsx(ne,{})})})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-6 sm:gap-2",children:[u.jsx(Me,{id:"terms",name:"terms",value:"true",required:!0,containerClassName:"touch-manipulation",label:u.jsxs(u.Fragment,{children:["I agree to the"," ",u.jsx("a",{href:"#",className:"text-green-600 hover:underline touch-manipulation",children:"Terms and conditions"})," ","and"," ",u.jsx("a",{href:"#",className:"text-green-600 hover:underline touch-manipulation",children:"Privacy policy"})," ","of Kadamora"]})}),u.jsx("div",{className:"w-full sm:w-auto",children:u.jsx("button",{type:"submit",className:`w-full sm:w-auto px-6 py-3 rounded-lg bg-secondary text-white hover:opacity-95 transition-all touch-manipulation min-h-12 disabled:cursor-not-allowed disabled:opacity-70 flex items-center justify-center gap-2 ${a?"scale-[0.99] animate-pulse cursor-not-allowed":""}`,disabled:a,children:a?u.jsx(u.Fragment,{children:u.jsx("span",{className:"h-4 w-4 rounded-full border-2 border-white/70 border-t-white animate-spin"})}):"Register"})})]}),u.jsxs("div",{className:"relative py-4 text-center",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-200"})}),u.jsx("div",{className:"relative inline-block bg-white px-4 text-gray-500 text-sm",children:"OR"})]}),u.jsxs("button",{type:"button",className:"w-full bg-[#EAF2FD] text-[#3F3F46] py-3 rounded-lg flex items-center justify-center gap-3 hover:bg-[#E0E9F7] transition-colors touch-manipulation min-h-12",children:[u.jsx("img",{src:"/assets/icons/google.png",alt:"Google icon",className:"h-5 w-5"}),u.jsx("span",{className:"text-sm sm:text-base",children:"Sign up with Google"})]}),u.jsxs("p",{className:"text-center text-gray-600 text-sm sm:text-base pt-2",children:["Already have an Account, Sign in"," ",u.jsx("a",{href:"/auth/login",className:"text-green-700 hover:underline touch-manipulation",children:"here"})]})]})]})]})}export{ze as default};
